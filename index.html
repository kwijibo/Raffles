<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Raffles by kwijibo</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Raffles</h1>
          <h2>A simple RDF database in PHP</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/kwijibo/Raffles/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/kwijibo/Raffles/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/kwijibo/Raffles" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p>Raffles is a simple file-based RDF/Graph datastore written in PHP. It is
written as a way to dynamically publish small datasets easily on PHP web
hosting without using an external database.</p>

<h2>Installation</h2>

<pre><code>    git clone https://github.com/kwijibo/Raffles.git Raffles
    cd Raffles
    composer install
</code></pre>

<p>see <a href="http://getcomposer.org">Composer</a></p>

<h2>Creating a Store and Importing Data</h2>

<pre><code>    require 'Raffles/lib/rafflesstore.php';
    require_once 'Raffles/vendor/autoload.php';

    $data_dir = __DIR__ . '/data';
    $store = new RafflesStore($data_dir);
    $store-&gt;indexPredicates = array(
        'http://www.w3.org/1999/02/22-rdf-syntax-ns#type',
        'http://purl.org/dc/terms/creator',
        'http://purl.org/dc/terms/date',
    );
    // you can configure Raffles to only index specific predicates

    $store-&gt;addNamespacePrefix('library', 'http://purl.org/library/');
    // add prefixes you want to use in queries
</code></pre>

<h3>Getting types of things in the Store</h3>

<pre><code>    $types = $store-&gt;getTypes();
    // array(
    // http://schema.org/Person =&gt; 456,
    // http://schema.org/Place =&gt; 321,

    //)
</code></pre>

<h3>Getting Facets</h3>

<pre><code>    $dates = $store-&gt;getFacets('http://purl.org/dc/terms/date');

    // array ( "1560" =&gt; 4, "1562" =&gt; 12, "1570" =&gt; 31  )
</code></pre>

<h2>Basic Path query language</h2>

<p><code>rdf:type=foaf:Person</code> (all things of type Person)</p>

<p><code>foaf:made/dct:date=1780</code> (anyone who made something in 1780)</p>

<pre><code>    $limit=20;
    $offset=0;
    $results = $store-&gt;query("foaf:made/dct:date=1560", $limit, $offset);
</code></pre>

<p>Results are returned as a PHP associative array following the <a href="https://github.com/iand/rdf-json">RDF JSON</a> structure</p>

<pre><code>    array (
    S =&gt; array(
        P =&gt; array (  
          array(
              value =&gt; O, 
              type =&gt; literal|uri|bnode 
              [, lang=O_LANG ] 
              [, datatype=O_DATATYPE ]
            )
        )
     )
</code></pre>

<h2>Search</h2>

<pre><code>    $results = $store-&gt;search("Edinbu");
</code></pre>

<h1>Running the tests</h1>

<p><code>php specs/run.php</code></p>

<h3>License</h3>

<p>This code is Public Domain.
Use, copy, or change it freely, at your own risk.</p>
        </section>

        <footer>
          Raffles is maintained by <a href="https://github.com/kwijibo">kwijibo</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>